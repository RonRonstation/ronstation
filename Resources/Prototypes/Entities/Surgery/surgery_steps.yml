- type: entity
  id: SurgeryStepBase
  categories:
  - HideSpawnMenu
  components:
  - type: SurgeryStep

- type: entity
  parent: SurgeryStepBase
  id: SurgeryStepOpenIncisionScalpel
  name: Cut with a scalpel
  components:
  - type: SurgeryStep
    tool:
    - type: Scalpel
    add:
    - type: IncisionOpen
  - type: Sprite
    sprite: Objects/Specific/Medical/Surgery/scalpel.rsi
    state: scalpel
  - type: SurgeryStepBleedEffect
    damage: 10
  - type: SurgeryStepEmoteEffect

- type: entity
  parent: SurgeryStepBase
  id: SurgeryStepClampBleeders
  name: Clamp the bleeders
  components:
  - type: SurgeryStep
    tool:
    - type: Hemostat
    add:
    - type: BleedersClamped
  - type: Sprite
    sprite: Objects/Specific/Medical/Surgery/scissors.rsi
    state: hemostat
  - type: SurgeryClampBleedEffect

- type: entity
  parent: SurgeryStepBase
  id: SurgeryStepRetractSkin
  name: Retract the skin
  components:
  - type: SurgeryStep
    tool:
    - type: Retractor
    add:
    - type: SkinRetracted
  - type: Sprite
    sprite: Objects/Specific/Medical/Surgery/scissors.rsi
    state: retractor

- type: entity
  parent: SurgeryStepBase
  id: SurgeryStepSawBones
  name: Saw through bones
  components:
  - type: SurgeryStep
    tool:
    - type: BoneSaw
    add:
    - type: RibcageSawed
  - type: Sprite
    sprite: Objects/Specific/Medical/Surgery/saw.rsi
    state: saw
  - type: SurgeryStepEmoteEffect

- type: entity
  parent: SurgeryStepBase
  id: SurgeryStepPriseOpenBones
  name: Prise the bones open
  components:
  - type: SurgeryStep
    tool:
    - type: Retractor
    add:
    - type: RibcageOpen
  - type: Sprite
    sprite: Objects/Specific/Medical/Surgery/scissors.rsi
    state: retractor

- type: entity
  parent: SurgeryStepBase
  id: SurgeryStepCutLarvaRoots
  name: Cut larva roots
  components:
  - type: SurgeryStep
    skill: 2
    tool:
    - type: Scalpel
  - type: SurgeryCutLarvaRootsStep
  - type: Sprite
    sprite: Objects/Specific/Medical/Surgery/scalpel.rsi
    state: scalpel
  - type: SurgeryOperatingTableCondition

- type: entity
  parent: SurgeryStepBase
  id: SurgeryStepRemoveLarva
  name: Remove larva
  components:
  - type: SurgeryStep
    skill: 2
    tool:
    - type: Hemostat
    bodyRemove:
#    - type: VictimInfected
  - type: Sprite
    sprite: Objects/Specific/Medical/Surgery/scissors.rsi
    state: hemostat
  - type: SurgeryOperatingTableCondition
#  - type: SurgeryStepSpawnEffect
#    entity: XenoEmbryo

- type: entity
  parent: SurgeryStepBase
  id: SurgeryStepCloseBones
  name: Close bones
  components:
  - type: SurgeryStep
    tool:
    - type: Retractor
    remove:
    - type: RibcageOpen
  - type: Sprite
    sprite: Objects/Specific/Medical/Surgery/scissors.rsi
    state: retractor

- type: entity
  parent: SurgeryStepBase
  id: SurgeryStepMendRibcage
  name: Mend ribcage
  components:
  - type: SurgeryStep
    tool:
    - type: BoneGel
    remove:
    - type: RibcageSawed
  - type: Sprite
    sprite: Objects/Specific/Medical/Surgery/bone_gel.rsi
    state: bone-gel

- type: entity
  parent: SurgeryStepBase
  id: SurgeryStepCloseIncision
  name: Close incision
  components:
  - type: SurgeryStep
    tool:
    - type: Cautery
    remove:
    - type: SkinRetracted
    - type: BleedersClamped
    - type: IncisionOpen
  - type: Sprite
    sprite: Objects/Specific/Medical/Surgery/cautery.rsi
    state: cautery
  - type: SurgeryStepEmoteEffect